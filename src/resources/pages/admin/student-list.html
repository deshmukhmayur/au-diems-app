<template>
  <require from="../../custom-attributes/datepicker"></require>

  <div class="container">
    <div class="row">
      <ul md-collapsible="accordion: true; popout: true;">
        <li repeat.for="student of students">
          <div class="collapsible-header">
            <div class="col s12">
              <code class="col s3 m2 right-align grey-text text-darken-2">${student.roll_no}</code>
              <span class="col s7">${student.name}</span>
              <i class="material-icons secondary-content grey-text text-darken-2 hide-on-small-only">keyboard_arrow_down</i>
            </div>
          </div>
          <div class="collapsible-body">
            <div class="row" ref.bind="editable = false" ref.bind="editPwd = false">
              <md-input class="col s12" md-label="Name" md-value.bind="stud.name" if.bind="editable"></md-input>

              <md-input class="col s12 m6" md-label="Email" md-value.bind="student.email" md-disabled.bind="!editable"></md-input>
              <md-input class="col s12 m6" md-label="D.O.B." md-value.bind="student.dob" md-type="date" md-disabled.bind="!editable"></md-input>
              
              <md-input class="col s12 m6" md-label="Contact No." md-value.bind="student.contact" md-disabled.bind="!editable"></md-input>
              <md-input class="col s12 m6" md-label="PRN No." md-value.bind="staff.prn_no" md-disabled.bind="!editable"></md-input>
              
              <md-input class="col s12 m4" md-label="Branch" md-value.bind="student.branch" md-disabled.bind="!editable"></md-input>
              <md-input class="col s12 m4" md-label="Class" md-value.bind="student.class" md-disabled.bind="!editable"></md-input>
              <md-input class="col s12 m4" md-label="Division" md-value.bind="student.division" md-disabled.bind="!editable"></md-input>
              
              <md-input class="col s12" md-label="Mentor-Mentee Batch" md-value.bind="student.mentor_batch" md-disabled.bind="!editable"></md-input>

              <div if.bind="editable && editPwd" ref.bind="showPwd = false">
                <md-input class="col s12" md-label="New Password" md-value.bind="nadmin.password" md-type="${showPwd ? 'text' : 'password'}"></md-input>
                <md-checkbox class="col s12 right-align" md-checked.bind="showPwd">Show Password</md-checkbox>
              </div>
            </div>
            <div class="row">
              <button if.bind="!editable" md-button md-waves="color: light;" class="primary right" click.trigger="editable = true">Edit</button>

              <button if.bind="editable && !editPwd" md-button md-waves="color: light;" class="primary" click.trigger="editPwd = true">Change Password</button>

              <div class="right">
                <button if.bind="editable" md-button md-waves>Save</button>
                <button if.bind="editable" md-button="flat: true;" md-waves click.trigger="editable = false">Cancel</button>
              </div>
            </div>
          </div>
        </li>
      </ul>
    </div>
  </div>
</template>